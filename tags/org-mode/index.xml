<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Org Mode on Cadafalso</title>
    <link>https://guaracy.github.io/tags/org-mode/index.xml</link>
    <description>Recent content in Org Mode on Cadafalso</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>pt-BR</language>
    <atom:link href="https://guaracy.github.io/tags/org-mode/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Blog minimal</title>
      <link>https://guaracy.github.io/2017/03/09/blog-minimal/</link>
      <pubDate>Thu, 09 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://guaracy.github.io/2017/03/09/blog-minimal/</guid>
      <description>&lt;p&gt;Não comentei antes pois está no GitHub há uma semana e vi no blog da &lt;a href=&#34;http://sacha.sachachua.com/blog/2017/03/2017-03-06-emacs-news/&#34; title=&#34;Sacha&#34;&gt;Sacha&lt;/a&gt; no meio desta semana. Mas o &lt;a href=&#34;https://github.com/thiefuniverse/blog-minimal&#34; title=&#34;Blog minimal&#34;&gt;Blog minimal&lt;/a&gt; é uma opção interessante para quem usa Emacs e deseja um blog estático. Um resumo:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;No início é necessário configurar algumas variáveis o que não deve significar problema para um usuário do emacs.&lt;/li&gt;
&lt;/ul&gt;

&lt;ul&gt;
&lt;li&gt;Para os artigos ele utiliza o &lt;a href=&#34;https://en.wikipedia.org/wiki/Org-mode&#34; title=&#34;org-mode&#34;&gt;org-mode&lt;/a&gt; que é uma opção que pode escrever um comentário, um artigo científico ou um livro. Certamente adequado para qualquer situação.&lt;/li&gt;
&lt;/ul&gt;

&lt;ul&gt;
&lt;li&gt;Usa o &lt;a href=&#34;http://mustache.github.io/&#34; title=&#34;mustache&#34;&gt;mustache&lt;/a&gt; para os templates das páginas html. &lt;/li&gt;
&lt;/ul&gt;

&lt;ul&gt;
&lt;li&gt;Como foi desenvolvido por um estudante chinês, a apresentação do &lt;a href=&#34;https://thiefuniverse.github.io/&#34; title=&#34;blog&#34;&gt;blog&lt;/a&gt; e as imagens não fecham com o meu gosto. Seria necessário utilizar um outro css e imagens. Acho que vou fazer alguns testes com o &lt;a href=&#34;https://www.w3schools.com/w3css/default.asp&#34; title=&#34;w3.css&#34;&gt;w3.css&lt;/a&gt; que acho interessante.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ainda não temos uma documentação e eu ainda não analisei o fonte para ter maiores informações (categorias, tags, etc.).&lt;/p&gt;

&lt;p&gt;Nada como EYODF.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Literate Programming</title>
      <link>https://guaracy.github.io/2017/03/03/literate-programming/</link>
      <pubDate>Fri, 03 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://guaracy.github.io/2017/03/03/literate-programming/</guid>
      <description>&lt;h1 id=&#34;introdução&#34;&gt;Introdução&lt;/h1&gt;

&lt;p&gt;Não vou traduzir &lt;a href=&#34;https://en.wikipedia.org/wiki/Literate_programming&#34; title=&#34;Literate Programming&#34;&gt;Literate Programming&lt;/a&gt; (LP) pois não gosto das traduções possíveis. Prefiro algo como &lt;em&gt;documento inteligente&lt;/em&gt;. Basicamente é o desenvolvimento de documentação/explanação lógica e programa simultaneamente. O emacs junto com o org-mode facilitam muito a tarefa pois:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Você pode executar os programas ou trecho do programa e incluir o resultado automaticamente no documento. Evita que uma alteração qualquer implique em executar o programa externamente, copiar e colar o resultado no documento podendo introduzir erros.&lt;/li&gt;
&lt;li&gt;Você pode gerar automaticamente o programa ou os programas, mesmo juntando diversos fragmentos em um só ao final. Também evita a possível erros entre versões.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Pessoalmente não utilizo para grandes projetos mas é interessante para pequenos projetos e, principalmente se desejamos publicá-lo.&lt;/p&gt;

&lt;p&gt;No início eu disse que não gostava da tradução mas, como ficaria a tradução em diversas línguas de &#34;Literate Programming&#34; pelo google translator?&lt;/p&gt;

  Literate Programming

&lt;table&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;de&lt;/td&gt;
&lt;td&gt;Literate Programmierung&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;fr&lt;/td&gt;
&lt;td&gt;Programmation alphabétique&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;ar&lt;/td&gt;
&lt;td&gt;البرمجة القراءة والكتابة&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;ja&lt;/td&gt;
&lt;td&gt;文学プログラミング&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;pt&lt;/td&gt;
&lt;td&gt;Programação Alfabetizada&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;es&lt;/td&gt;
&lt;td&gt;Programación alfabetizada&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;O que foi interessante nas traduções acima é que eu apenas digitei &#34;Literate Programming&#34; dentro de um bloco &lt;code&gt;#+BEGIN_SRC&lt;/code&gt; e &lt;code&gt;#+END_SRC&lt;/code&gt; indicando o programa ou rotina que interpretaria os dados, o idioma original e os idiomas destinos da tradução bem como o formato para a exportação dos dados (&lt;code&gt;translate :src en :dest de,fr,ar,ja,pt,es :exports both&lt;/code&gt;). Depois pressionei &lt;code&gt;Ctrl + C Ctrl + C&lt;/code&gt; e as traduções foram buscadas automaticamente. Basta alterar o texto ou incluir/excluir alguma linguagem, pressionar a mesma sequência de teclas e o resultado será alterado (nem preciso excluir o resultado anterior).&lt;/p&gt;

&lt;p&gt;Diferente da abordagem de foco no programa e documentação baseada em comentários do programa como é comum ver atualmente, LP parte do texto para gerar a documentação e os programas.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://guaracy.github.io/images/lp.png&#34; alt=&#34;/images/lp.png&#34; title=&#34;/images/lp.png&#34; /&gt;&lt;/p&gt;

&lt;h1 id=&#34;prática&#34;&gt;Prática&lt;/h1&gt;

&lt;p&gt;Este tópico apresenta um exemplo mais concreto de LP e, apesar das ferramentas para Red e o parse para org-mode do hugo ainda não estarem suficientemente maduras, é possível ter uma ideia melhor. Os principais problemas são:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;org-red/org-babel : ainda não aceita &lt;code&gt;:ssession&lt;/code&gt; para Red que permitiria utilizar diversos fragmentos do código mantendo o valor das variáveis e funções dentro de uma mesma sessão. Contornado com &lt;code&gt;:noweb yes&lt;/code&gt; e &lt;code&gt;&amp;lt;&amp;lt;nome-codigo&amp;gt;&amp;gt;&lt;/code&gt; que faz parte da especificação original de LP.&lt;/li&gt;
&lt;li&gt;org-mode/hugo : ainda não aceita numeração de linhas no código fonte o que facilitaria explicações do tipo &#34;linha tal faz tal coisa&#34; nem links internos na página.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;A ideia deste post surgiu do projeto do &lt;a href=&#34;https://wandersonwhcr.github.io/&#34; title=&#34;Wanderson&#34;&gt;Wanderson&lt;/a&gt; de manter uma base atualizada de &lt;a href=&#34;https://github.com/carteiro/ceps&#34; title=&#34;CEPs&#34;&gt;CEPs&lt;/a&gt;. O principal problema é que os dados fornecidos pelos correios são pagos e fechados (pagando se obtém as atualizações também). Iniciando do zero, mesmo com a colaboração de diversas pessoas, é um trabalho monstruoso. A obtenção dos ceps de uma cidade grande demandaria um grande tempo para obtenção e transcrição, sem contar com o perigo da obtenção em locais perigosos.&lt;/p&gt;

&lt;p&gt;Pensei em obter de forma automatizada e, para tanto, precisaria das ruas que por sua vez necessitaria do nome das cidades. Vamos focar na obtenção do nome dos municípios de um determinado estado e, como brinde, já obteremos outras informações. Pelo site do IBGE é possível obter mapas, municípios e algumas outras informações de um determinado estado. É uma continuação do artigo &lt;a href=&#34;https://guaracy.github.io/2017/02/23/parser-extraindo-dados-de-paginas/&#34; title=&#34;Parser - extraindo dados de páginas&#34;&gt;Parser - extraindo dados de páginas&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;estados&#34;&gt;Estados&lt;/h2&gt;

&lt;p&gt;Para obter os estados não tem mistérios. Podemos escrever&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  &lt;span style=&#34;color: #800080; font-weight: bold&#34;&gt;estados:&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;ac,al,ap,am,ba,ce,df,es,go,ma,mt,ms,mg,pa,pb,pr,pe,pi,rj,rn,rs,ro,rr,sc,sp,se,to&amp;quot;&lt;/span&gt;
  &lt;span style=&#34;color: #800080; font-weight: bold&#34;&gt;estados:&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;split&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;estados&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;,&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Assim teremos em &lt;strong&gt;estados&lt;/strong&gt; uma lista de todos so estados.&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  &lt;span style=&#34;color: #19177C&#34;&gt;&amp;lt;&amp;lt;red-estados&amp;gt;&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color: #D2413A; font-weight: bold&#34;&gt;probe&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;estados&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;: [&#34;ac&#34; &#34;al&#34; &#34;ap&#34; &#34;am&#34; &#34;ba&#34; &#34;ce&#34; &#34;df&#34; &#34;es&#34; &#34;go&#34; &#34;ma&#34; &#34;mt&#34; &#34;ms&#34; &#34;mg&#34; &#34;pa&#34; &#34;pb&#34; &#34;pr&#34; &#34;pe&#34; &#34;pi&#34; &#34;rj&#34; &#34;rn&#34; &#34;rs&#34; &#34;ro&#34; &#34;rr&#34; &#34;sc&#34; &#34;sp&#34; &#34;se&#34; &#34;to&#34;]&lt;/p&gt;

&lt;p&gt;Para obter as informações de um determinado estado, acessamos  &lt;code&gt;http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf&lt;/code&gt; com a siga do estado desejado. O primeiro passo seria colocar em uma variável (em Red não existe variável como estamos acostumados; são símbolos definidos em contexto dinâmico) o valor da raiz do endereço da página.&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  &lt;span style=&#34;color: #800080; font-weight: bold&#34;&gt;url:&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Depois, um loop poderia processar a página de cada estado, extraindo os dados desejados;&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  &lt;span style=&#34;color: #19177C&#34;&gt;&amp;lt;&amp;lt;red-estados&amp;gt;&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color: #19177C&#34;&gt;&amp;lt;&amp;lt;red-url&amp;gt;&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color: #008000&#34;&gt;foreach&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;uf&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;estados&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;
     &lt;span style=&#34;color: #008000&#34;&gt;print&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;processa: &amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;rejoin&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color: #19177C&#34;&gt;url&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;uf&lt;/span&gt;&lt;span style=&#34;font-weight: bold&#34;&gt;]]&lt;/span&gt;
  &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=ac&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=al&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=ap&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=am&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=ba&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=ce&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=df&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=es&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=go&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=ma&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=mt&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=ms&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=mg&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=pa&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=pb&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=pr&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=pe&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=pi&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=rj&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=rn&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=rs&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=ro&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=rr&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=sc&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=sp&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=se&lt;/li&gt;
&lt;li&gt;processa:  http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=to&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Passando &#34;ac&#34; e olhando o fonte da página retornada teremos:&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;body&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;div&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;id&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;conteudo&amp;quot;&lt;/span&gt;&amp;gt;
      &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;h1&lt;/span&gt;&amp;gt;Acre - AC&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;h1&lt;/span&gt;&amp;gt;
      &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;ul&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;id&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;info&amp;quot;&lt;/span&gt;&amp;gt;
      &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;li&lt;/span&gt;&amp;gt;Capital: Rio Branco&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;li&lt;/span&gt;&amp;gt;
      &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;li&lt;/span&gt;&amp;gt;Nº de municípios: 22&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;li&lt;/span&gt;&amp;gt;
      &amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;ul&lt;/span&gt;&amp;gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Pelo fragmento acima podemos observar:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;O nome e sigla do estado estão no primeiro cabeçalho da página &lt;code&gt;&amp;lt;h1&amp;gt;&lt;/code&gt;, separados por hífen. Então deveremos procurar por &lt;code&gt;&amp;lt;h1&amp;gt;&lt;/code&gt; e coletar as informação até o hífen (se copiar até o espaço irá falhar em cidades como Porto Alegre - RS), pular informações indesejadas e copiar as duas letras.&lt;/li&gt;
&lt;li&gt;Seguindo, veremos que a próxima informação que é a capital e encontra-se após o &lt;code&gt;:&lt;/code&gt;. Coletamos a informação até &lt;code&gt;&amp;lt;li&amp;gt;&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;A próxima informação pode seguir o mesmo princípio da anterior, isto é, coletamos após &lt;code&gt;:&lt;/code&gt; até &lt;code&gt;&amp;lt;li&amp;gt;&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Assim terminamos de coletar as informações principais sobre o estado. Pulamos a parte com o mapa no formato &lt;code&gt;svg&lt;/code&gt;. Agora teremos que analisar os dados contendo as informações dos municípios.&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;table&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;id&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;municipios&amp;quot;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;thead&lt;/span&gt;&amp;gt;
      &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;tr&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;th&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;nome&amp;quot;&lt;/span&gt;&amp;gt;Municípios&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;th&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;th&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;codigo&amp;quot;&lt;/span&gt;&amp;gt;Código&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;th&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;th&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;gentilico&amp;quot;&lt;/span&gt;&amp;gt;Gentílico&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;th&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;th&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;populacao&amp;quot;&lt;/span&gt;&amp;gt;População 2010&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;th&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;th&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;area&amp;quot;&lt;/span&gt;&amp;gt;Área da unidade territorial 2015 (km²)	&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;th&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;th&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;densidade&amp;quot;&lt;/span&gt;&amp;gt;Densidade demográfica 2010 (hab/km²)&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;th&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;th&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;pib&amp;quot;&lt;/span&gt;&amp;gt;&amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;b&lt;/span&gt;&amp;gt;Série revisada&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;b&lt;/span&gt;&amp;gt; - Valor adicionado bruto Total, a preços correntes&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;th&lt;/span&gt;&amp;gt;
      &amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;tr&lt;/span&gt;&amp;gt;
    &amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;thead&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;tbody&lt;/span&gt;&amp;gt;
      &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;tr&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;1200013 par&amp;quot;&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;nome&amp;quot;&lt;/span&gt;&amp;gt;Acrelândia&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;codigo&amp;quot;&lt;/span&gt;&amp;gt;1200013&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;gentilico&amp;quot;&lt;/span&gt;&amp;gt;acrelandense&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;12.538&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;1.807,95&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;6,9&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;200.194&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;
      &amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;tr&lt;/span&gt;&amp;gt;
      &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;tr&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;1200054 impar&amp;quot;&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;nome&amp;quot;&lt;/span&gt;&amp;gt;Assis Brasil&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;codigo&amp;quot;&lt;/span&gt;&amp;gt;1200054&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt; &lt;span style=&#34;color: #7D9029&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;gentilico&amp;quot;&lt;/span&gt;&amp;gt;assis-brasiliense&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;6.072&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;4.974,18&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;1,2&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;71.773&amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;td&lt;/span&gt;&amp;gt;
      &amp;lt;/&lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;tr&lt;/span&gt;&amp;gt;
      &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;&amp;lt;!-- repete até o final da tabela --&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Os dados desejados iniciam na linha &lt;code&gt;&amp;lt;tr&lt;/code&gt; após o cabeçalho da tabela &lt;code&gt;&amp;lt;thead&amp;gt;&amp;lt;/thead&amp;gt;&lt;/code&gt;. Então teremos que ignorar todos os dados até lá. Depois, para cada linha da tabela teremos:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;coletar nome do município que inicia após &lt;code&gt;nome&amp;quot;&amp;gt;&lt;/code&gt; e vai até &lt;code&gt;&amp;lt;/td&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;coletar código ibge que inicia após &lt;code&gt;codigo&amp;quot;&amp;gt;&lt;/code&gt; e vai até &lt;code&gt;&amp;lt;/td&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;coletar a designação do indivíduo nascido no município que inicia após &lt;code&gt;gentilico&amp;quot;&amp;gt;&lt;/code&gt;  e vai até &lt;code&gt;&amp;lt;/td&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;para coletar a população, área, densidade demográfica e pib seguimos o mesmo procedimento que é coletar as informação que estão após &lt;code&gt;&amp;lt;td&amp;gt;&lt;/code&gt;  e vai até &lt;code&gt;&amp;lt;/td&amp;gt;&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;A regra para processar a página ficaria assim:&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  &lt;span style=&#34;color: #800080; font-weight: bold&#34;&gt;rule:&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;
    &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;h1&amp;gt;&amp;quot;&lt;/span&gt;	   &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; posiciona após &amp;lt;h1&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color: #19177C&#34;&gt;collect&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;
      &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot; -&amp;quot;&lt;/span&gt;		 &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; nome do estado&lt;/span&gt;
      &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;- &amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;&amp;quot;&lt;/span&gt;	 &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; sigla do estado&lt;/span&gt;
      &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;: &amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;&amp;quot;&lt;/span&gt;	 &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; capital&lt;/span&gt;
      &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;: &amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;&amp;quot;&lt;/span&gt;      &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; num. municipios&lt;/span&gt;
      &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;tbody&amp;gt;&amp;quot;&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;	 &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; pula cabeçalho &amp;lt;thread&amp;gt; para trabalhar com as cidades&lt;/span&gt;
        &lt;span style=&#34;color: #19177C&#34;&gt;collect&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;
          &lt;span style=&#34;color: #008000&#34;&gt;any&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;
            &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;{&amp;quot;nome&amp;quot;&amp;gt;}&lt;/span&gt;
            &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;&amp;quot;&lt;/span&gt;	&lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; nome da cidade&lt;/span&gt;
            &lt;span style=&#34;color: #19177C&#34;&gt;collect&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;
            &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;{&amp;quot;codigo&amp;quot;&amp;gt;}&lt;/span&gt;
            &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;&amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; codigo da cidade ibge&lt;/span&gt;
            &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;{&amp;quot;gentilico&amp;quot;&amp;gt;}&lt;/span&gt;
            &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;&amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; tratamento&lt;/span&gt;
              &lt;span style=&#34;color: #666666&#34;&gt;4&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;			  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; repete 4 vezes&lt;/span&gt;
                &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;td&amp;gt;&amp;quot;&lt;/span&gt;
                &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;&amp;quot;&lt;/span&gt;	  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; população / área / densidade demográfica / pib&lt;/span&gt;
              &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
            &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
          &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
        &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
        &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;end&lt;/span&gt;
      &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
    &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
  &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Para processar uma página, basta ler e processar da seguinte forma (no caso o primeiro elemento da lista que é &lt;strong&gt;ac&lt;/strong&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  &lt;span style=&#34;color: #800080; font-weight: bold&#34;&gt;page:&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;read&lt;/span&gt; &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;to-url&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;rejoin&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color: #19177C&#34;&gt;url&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;estados&lt;/span&gt;&lt;span style=&#34;color: #7D9029&#34;&gt;/1&lt;/span&gt;&lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
  &lt;span style=&#34;color: #800080; font-weight: bold&#34;&gt;cidades:&lt;/span&gt; &lt;span style=&#34;color: #D2413A; font-weight: bold&#34;&gt;parse&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;page&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;rule&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;O resultado de cidades seria um bloco aninhado no formato [ &lt;code&gt;dados estado&lt;/code&gt; [ &lt;code&gt;cidade&lt;/code&gt; [ &lt;code&gt;dados cidade&lt;/code&gt; ] ... ] ]&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
[ &amp;quot;Acre&amp;quot; 
  &amp;quot;AC&amp;quot; 
  &amp;quot;Rio Branco&amp;quot; 
  &amp;quot;22&amp;quot; [
    &amp;quot;Acrelândia&amp;quot; [
      &amp;quot;1200013&amp;quot; 
      &amp;quot;acrelandense&amp;quot; 
      &amp;quot;12.538&amp;quot; 
      &amp;quot;1.807,95&amp;quot; 
      &amp;quot;6,9&amp;quot; &amp;quot;200.194&amp;quot;
    ] 
    &amp;quot;Assis Brasil&amp;quot; [
      &amp;quot;1200054&amp;quot; 
      &amp;quot;assis-brasiliense&amp;quot; 
      &amp;quot;6.072&amp;quot; 
      &amp;quot;4.974,18&amp;quot; 
      &amp;quot;1,2&amp;quot; 
      &amp;quot;71.773&amp;quot;
    ]
    ...
    &amp;quot;Xapuri&amp;quot; [
      &amp;quot;1200708&amp;quot; 
      &amp;quot;xapuriense&amp;quot; 
      &amp;quot;16.091&amp;quot; 
      &amp;quot;5.347,47&amp;quot; 
      &amp;quot;3,0&amp;quot; 
      &amp;quot;193.734&amp;quot;
    ]
  ]   
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Finalmente, para ler as páginas com os dados de todos os estados, aplicar as regras e gravar os resultados (municípios, etc) temos:&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  &lt;span style=&#34;color: #008000&#34;&gt;foreach&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;es&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;estados&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;
    &lt;span style=&#34;color: #800080; font-weight: bold&#34;&gt;cidades:&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;copy&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[]&lt;/span&gt;
    &lt;span style=&#34;color: #800080; font-weight: bold&#34;&gt;page:&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;read&lt;/span&gt; &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;to-url&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;rejoin&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color: #19177C&#34;&gt;url&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;es&lt;/span&gt;&lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
    &lt;span style=&#34;color: #D2413A; font-weight: bold&#34;&gt;parse&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;page&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;rule&lt;/span&gt;
    &lt;span style=&#34;color: #19177C&#34;&gt;save&lt;/span&gt; &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;to-file&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;es&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;cidades&lt;/span&gt;
  &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;E teremos um arquivo para cada estado com os dados.&lt;/p&gt;

&lt;h2 id=&#34;conclusão&#34;&gt;Conclusão&lt;/h2&gt;

&lt;p&gt;Note que a  &lt;strong&gt;Introdução&lt;/strong&gt; e &lt;strong&gt;Conclusão&lt;/strong&gt; não fazem parte da LP (até poderiam fazer como se encontra neste documento). Apenas de *Prática em diante. Sendo assim, temos a documentação do nosso programa em diversos fragmentos. Cada fragmento que desejamos exportar tem a diretiva &lt;code&gt;:tangle yes&lt;/code&gt;. Ao término, podemos pressionar &lt;code&gt;Ctrl + c Ctrl + e h h&lt;/code&gt; e iremos gerar um arquivo html (podemos escolher outro formato com pdf, etc.) contendo a documentação como é vista aqui. E, ao pressionar &lt;code&gt;Ctrl + c Ctrl +-v t&lt;/code&gt; iremos gerar o fonte do nosso programa que irá pegar todos os blocos marcados com &lt;em&gt;tanle&lt;/em&gt; e gravar em um arquivo com o nome escolhido (ou nome do documento se for o casos). Se tivermos outras linguagens no documento, os blocos de cada linguagem serão juntados e gravados os respectivos programas. No caso aqui ficaria:&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  &lt;span style=&#34;color: #19177C&#34;&gt;Red&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[]&lt;/span&gt;
  &lt;span style=&#34;color: #800080; font-weight: bold&#34;&gt;estados:&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;ac,al,ap,am,ba,ce,df,es,go,ma,mt,ms,mg,pa,pb,pr,pe,pi,rj,rn,rs,ro,rr,sc,sp,se,to&amp;quot;&lt;/span&gt;
  &lt;span style=&#34;color: #800080; font-weight: bold&#34;&gt;estados:&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;split&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;estados&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;,&amp;quot;&lt;/span&gt;

  &lt;span style=&#34;color: #800080; font-weight: bold&#34;&gt;url:&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;http://www.cidades.ibge.gov.br/download/mapa_e_municipios.php?uf=&amp;quot;&lt;/span&gt;

  &lt;span style=&#34;color: #800080; font-weight: bold&#34;&gt;rule:&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;
    &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;h1&amp;gt;&amp;quot;&lt;/span&gt;	   &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; posiciona após &amp;lt;h1&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color: #19177C&#34;&gt;collect&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;
      &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot; -&amp;quot;&lt;/span&gt;		 &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; nome do estado&lt;/span&gt;
      &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;- &amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;&amp;quot;&lt;/span&gt;	 &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; sigla do estado&lt;/span&gt;
      &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;: &amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;&amp;quot;&lt;/span&gt;	 &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; capital&lt;/span&gt;
      &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;: &amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;&amp;quot;&lt;/span&gt;      &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; num. municipios&lt;/span&gt;
      &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;tbody&amp;gt;&amp;quot;&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;	 &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; pula cabeçalho &amp;lt;thread&amp;gt; para trabalhar com as cidades&lt;/span&gt;
        &lt;span style=&#34;color: #19177C&#34;&gt;collect&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;
          &lt;span style=&#34;color: #008000&#34;&gt;any&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;
            &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;{&amp;quot;nome&amp;quot;&amp;gt;}&lt;/span&gt;
            &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;&amp;quot;&lt;/span&gt;	&lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; nome da cidade&lt;/span&gt;
            &lt;span style=&#34;color: #19177C&#34;&gt;collect&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;
            &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;{&amp;quot;codigo&amp;quot;&amp;gt;}&lt;/span&gt;
            &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;&amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; codigo da cidade ibge&lt;/span&gt;
            &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;{&amp;quot;gentilico&amp;quot;&amp;gt;}&lt;/span&gt;
            &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;&amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; tratamento&lt;/span&gt;
              &lt;span style=&#34;color: #666666&#34;&gt;4&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;			  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; repete 4 vezes&lt;/span&gt;
                &lt;span style=&#34;color: #19177C&#34;&gt;thru&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;td&amp;gt;&amp;quot;&lt;/span&gt;
                &lt;span style=&#34;color: #19177C&#34;&gt;keep&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&amp;lt;&amp;quot;&lt;/span&gt;	  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;; população / área / densidade demográfica / pib&lt;/span&gt;
              &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
            &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
          &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
        &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
        &lt;span style=&#34;color: #0000FF&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;end&lt;/span&gt;
      &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
    &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
  &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;

  &lt;span style=&#34;color: #008000&#34;&gt;foreach&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;es&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;estados&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;
    &lt;span style=&#34;color: #800080; font-weight: bold&#34;&gt;cidades:&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;copy&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[]&lt;/span&gt;
    &lt;span style=&#34;color: #800080; font-weight: bold&#34;&gt;page:&lt;/span&gt; &lt;span style=&#34;color: #0000FF&#34;&gt;read&lt;/span&gt; &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;to-url&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;rejoin&lt;/span&gt; &lt;span style=&#34;font-weight: bold&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color: #19177C&#34;&gt;url&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;es&lt;/span&gt;&lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
    &lt;span style=&#34;color: #D2413A; font-weight: bold&#34;&gt;parse&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;page&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;rule&lt;/span&gt;
    &lt;span style=&#34;color: #19177C&#34;&gt;save&lt;/span&gt; &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;to-file&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;es&lt;/span&gt; &lt;span style=&#34;color: #19177C&#34;&gt;cidades&lt;/span&gt;
  &lt;span style=&#34;font-weight: bold&#34;&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;A parte de busca dos logradouros e ceps ficam de fora deste documento para que o mesmo não fique muito longo e por não saber se seria legal publicar como foram acessados.&lt;/p&gt;

&lt;p&gt;Caso você tenha lido até aqui, iniciei um &lt;a href=&#34;https://guaracy.github.io/parse&#34; title=&#34;manual&#34;&gt;manual&lt;/a&gt; do parse de Red em português. As atualizações do manual estarão no &lt;a href=&#34;https://github.com/guaracy/red/tree/master/doc/parse&#34; title=&#34;GitHub&#34;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>De nikola para Hugo</title>
      <link>https://guaracy.github.io/2017/03/02/de-nikola-para-hugo/</link>
      <pubDate>Thu, 02 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://guaracy.github.io/2017/03/02/de-nikola-para-hugo/</guid>
      <description>&lt;h1 id=&#34;introdução&#34;&gt;Introdução&lt;/h1&gt;

&lt;p&gt;Um dos motivos para a utilização do nikola na primeira fase de construção deste site foi a possibilidade de trabalhar com arquivos no formato org-mode. É claro que as facilidades de instalação e &lt;em&gt;deploy&lt;/em&gt; influenciaram na escolha.&lt;/p&gt;

&lt;p&gt;De qualquer forma, tinham algumas coisinhas que não estavam bem integradas com o emacs. Após algums STFW, descobri que o &lt;a href=&#34;http://gohugo.io/&#34; title=&#34;Hugo&#34;&gt;Hugo&lt;/a&gt;, &lt;a href=&#34;https://github.com/spf13/hugo/pull/3001&#34; title=&#34;recentemente&#34;&gt;recentemente&lt;/a&gt;, começou a aceitar documentos no formato org-mode. A abordagem dos dois é diferente. Enquanto o nikola usa o proprio emacs para gerar o .html e depois converter, o Hugo utiliza um módulo (escrito em Go). Olhando o site do &lt;a href=&#34;https://chaseadams.io/getting-started-with-emacs/&#34; title=&#34;Chase&#34;&gt;Chase&lt;/a&gt;, que desenvolveu o parser para os arquivos .org, e descobri que é mais um novo usuário que se encantou com o &lt;a href=&#34;http://orgmode.org/worg/org-screenshots.html&#34; title=&#34;org-mode&#34;&gt;org-mode&lt;/a&gt; e o emacs.&lt;/p&gt;

&lt;p&gt;O Hugo, pelo menos por enquanto, não é tão amigável como o Nikola para algumas tarefas mas, para outras, sou obrigado a tirar o chapéu. Existem diversas &lt;a href=&#34;http://gohugo.io/tools/&#34; title=&#34;ferramentas&#34;&gt;ferramentas&lt;/a&gt; que cobrem a migração de um blog antigo para o Hugo (não tem Nikola), o &lt;em&gt;deploy&lt;/em&gt; do site, diversos &lt;em&gt;frontends&lt;/em&gt; que dispensam um editor, &lt;em&gt;plugins&lt;/em&gt; para editores (inclusive para emacs). Mas o mais legal, pelo menos eu achei, é que basta gravar as alterações em algum post, arquivo de configuração, etc., que elas são imediatamente detectadas, os procedimentos necessários são executados e o navegador é atualizado.&lt;/p&gt;

&lt;p&gt;Se você estiver interessado, existe uma discussão no &lt;a href=&#34;https://www.reddit.com/r/emacs/comments/5wibiv/hugo_v019_with_native_emacs_orgmode_content/&#34; title=&#34;reddit&#34;&gt;reddit&lt;/a&gt; sobre o suporte do hugo para org-mode.&lt;/p&gt;

&lt;h1 id=&#34;instalação&#34;&gt;Instalação&lt;/h1&gt;

&lt;p&gt;Primeiro é necessário instalar o &lt;a href=&#34;http://gohugo.io/&#34; title=&#34;Hugo&#34;&gt;Hugo&lt;/a&gt;, é claro. Veja se a sua distribuição possui nos repositórios para a instalação ou siga os passos da página. Para utilizar o script de &lt;em&gt;deploy&lt;/em&gt; que se encontra abaixo, você deverá ter instalado o &lt;a href=&#34;https://github.com/davisp/ghp-import&#34; title=&#34;ghp-import&#34;&gt;ghp-import&lt;/a&gt;. Como estava usando o Nikola, já tinha instalado. Pode ser que sua distro disponha para a instalação.&lt;/p&gt;

&lt;p&gt;O primeiro passo é criar um diretorio &lt;code&gt;&amp;lt;usuário&amp;gt;github.io&lt;/code&gt; no GitHub. Podemos ter os seguintes passos para criar um blog na pasta &lt;code&gt;~/myblog&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  git clone https://github.com/guaracy.github.io.git ~/myblog
  &lt;span style=&#34;color: #008000&#34;&gt;cd&lt;/span&gt; ~/myblog
  git checkout -b &lt;span style=&#34;color: #008000&#34;&gt;source&lt;/span&gt;
  hugo new site myblog
  mv myblog/* .
  rm -r myblog
  git clone https://github.com/beli3ver/hemingway2.git themes/hemingway2
  &lt;span style=&#34;color: #008000&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;theme = \&amp;quot;hemingway2\&amp;quot;&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; config.toml
  hugo new post/primeiro.md
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Foi escolhido o tema &lt;strong&gt;hemingway2&lt;/strong&gt; mas você pode escolher outro &lt;a href=&#34;https://themes.gohugo.io/&#34; title=&#34;tema&#34;&gt;tema&lt;/a&gt; que achar melhor (trocando o nome do tema nas instruções acima). Verifique as instruções de instalação e veja os comentários na pasta do tema para saber como configurá-lo. Agora você pode digitar o comando abaixo e&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  hugo serve
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;abrir no seu navegado &lt;code&gt;localhost:1313&lt;/code&gt; . Se tudo deu certo, você verá o seu site. Você pode abrir e verificar o arquivo &lt;code&gt;config.toml&lt;/code&gt; alterado a variável &lt;code&gt;baseURL&lt;/code&gt; para https://usuário.github.io, o titulo do site e grave. Altere também o post que você criou e deve estar em &lt;code&gt;content/post/primeiro.md&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Para criar o site, apenas digite &lt;code&gt;hugo&lt;/code&gt;&lt;/p&gt;

&lt;h1 id=&#34;deploy&#34;&gt;Deploy&lt;/h1&gt;

&lt;p&gt;Criei um script que funciona da mesma forma que o Nikola. Colocará no &lt;em&gt;branch&lt;/em&gt; master o conteúdo do site e no &lt;em&gt;branch&lt;/em&gt; source o conteúdo de desenvolvimento. Existem outras formas, mas vamos ficar no KISS. Se o script for chamado com um parâmetro, será assumido como mensagem para o &lt;em&gt;commit&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;  &lt;span style=&#34;color: #408080; font-style: italic&#34;&gt;#!/usr/bin/bash&lt;/span&gt;

  &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;[&lt;/span&gt; -z &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #19177C&#34;&gt;$1&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;]&lt;/span&gt;
  &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;then&lt;/span&gt;
      &lt;span style=&#34;color: #19177C&#34;&gt;msg&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;Rebuild on `date`&amp;quot;&lt;/span&gt;
  &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;else&lt;/span&gt;
      &lt;span style=&#34;color: #19177C&#34;&gt;msg&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #19177C&#34;&gt;$1&lt;/span&gt;
  &lt;span style=&#34;color: #008000; font-weight: bold&#34;&gt;fi&lt;/span&gt;

  &lt;span style=&#34;color: #008000&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;** Atualizando site&amp;quot;&lt;/span&gt;
  hugo

  &lt;span style=&#34;color: #008000&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;\n\n** Enviandopara o GitHub - master&amp;quot;&lt;/span&gt;
  git add .
  git commit -am &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #19177C&#34;&gt;$msg&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&lt;/span&gt;
  git rev-parse &lt;span style=&#34;color: #008000&#34;&gt;source&lt;/span&gt;
  ghp-import -n -m &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span style=&#34;color: #19177C&#34;&gt;$msg&lt;/span&gt;&lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;&lt;/span&gt; -p -r origin -b master public

  &lt;span style=&#34;color: #008000&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color: #BA2121&#34;&gt;&amp;quot;\n\n** Enviandopara o GitHub - source&amp;quot;&lt;/span&gt;
  git push -u origin &lt;span style=&#34;color: #008000&#34;&gt;source&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&#34;conclusão&#34;&gt;Conclusão&lt;/h1&gt;

&lt;p&gt;O org-mode do hugo ainda não está 100% mas funciona. Como o autor usa emacs, org-mode e hugo, é mais fácil que mantenha atualizado e faça melhorias.&lt;/p&gt;

&lt;p&gt;Sobre os temas, parece que o site mostra do atualizado mais recente para o menos. Fica por sua conta e risco utilizar um thema muito antigo. Pode ser que você tenha que efetuar alguma alteração para que ele funcione corretamente em versões mais novas ou futuras do hugo.&lt;/p&gt;

&lt;p&gt;Como eu tinha poucas entradas no blog feito com o nikola, foi fácil converter os cabeçalhos para se adaptar ao hugo. Se tiver muitos posts, pode ser necessário fazer um script para efetuar as alterações ou esperar que alguém desenvolva para você.]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Gerenciando Blog Estático</title>
      <link>https://guaracy.github.io/2017/02/08/gerenciando-blog-estatico/</link>
      <pubDate>Wed, 08 Feb 2017 00:00:00 +0000</pubDate>
      
      <guid>https://guaracy.github.io/2017/02/08/gerenciando-blog-estatico/</guid>
      <description>&lt;div class=&#34;document&#34;&gt;


&lt;div class=&#34;section&#34; id=&#34;introducao&#34;&gt;
&lt;h1&gt;Introdução&lt;/h1&gt;
&lt;p&gt;Fora a facilidade de uso, o outro motivo importante de escolher o Nikola como gerenciador de blog estático foi a possibilidade de editar as entradas no formato &lt;a class=&#34;reference external&#34; href=&#34;http://orgmode.org/&#34;&gt;org-mode&lt;/a&gt; diretamente, isto é, edito direto no formato org e mando o Nikola gerar o blog. Poderia converter para .rst ou .md mas as etapas intermediárias são chatas e podem resultar em erros difíceis de serem resolvidos ou localizados. Não, não é apenas mais uma linguagem de marcação. É a linguagem de marcação definitiva.&lt;/p&gt;
&lt;p&gt;Usar o emacs não é nenhum bicho de sete cabeças. Para quem usa o vim, existe o &lt;a class=&#34;reference external&#34; href=&#34;http://spacemacs.org/&#34;&gt;spacemacs&lt;/a&gt; que foi feito pensando nesses usuários. Mesmo funcionamento do teclado (nunca usei i vim para confirmar) com o coração do emacs. Muitos profissionais de outras áreas (principalmente educação) fizeram a troca apenas para usar o org-mode. O &lt;a class=&#34;reference external&#34; href=&#34;http://kitchingroup.cheme.cmu.edu/blog/2014/08/08/What-we-are-using-org-mode-for/&#34;&gt;John Kitchin&lt;/a&gt;, por exemplo, utiliza org-mode para escrever artigos científicos e livros, agenda profissional/pessoal, apresentações e até para lecionar indo desde a preparação do material até a avaliação dos alunos como pode ser visto neste &lt;a class=&#34;reference external&#34; href=&#34;https://www.youtube.com/watch?v=cRUCiF2MwP4&#34;&gt;vídeo&lt;/a&gt;.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;
&lt;/div&gt;
&lt;div class=&#34;section&#34; id=&#34;blog-admin&#34;&gt;
&lt;h1&gt;blog-admin&lt;/h1&gt;
&lt;p&gt;O &lt;a class=&#34;reference external&#34; href=&#34;https://github.com/guaracy/blog-admin&#34;&gt;blog-admin&lt;/a&gt; facilita a administração de um blog criado pelo hexo, org-page e Nikola (que é o que me interessa) utilizando o emacs. A aparência é assim:&lt;/p&gt;
&lt;img alt=&#34;/images/blog-admin.png&#34; src=&#34;https://guaracy.github.io/images/blog-admin.png&#34; /&gt;
&lt;p&gt;As operações ficam a uma tecla de distância e as entradas disponíveis na tabela sendo facilmente visualizadas (data, rascunho, título). Só pela visualização já seria um facilitador e é como está sendo usado neste momento. Já fiz um fork do repositório do GitHub e pretendo efetuar as alterações necessárias para que se ajuste ao meu fluxo de trabalho e corrigir alguns probleminhas.&lt;/p&gt;
&lt;ul class=&#34;simple&#34;&gt;
&lt;li&gt;&lt;strong&gt;s&lt;/strong&gt; : Altera entre o modo rascunho e publicação&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;d&lt;/strong&gt; : Funcionou corretamente. Provavelmente seria utilizados apenas para apagar posts marcados como &lt;tt class=&#34;docutils literal&#34;&gt;draft&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;c&lt;/strong&gt; : Não testei mas também não sei quando iria duplicar um post.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;w&lt;/strong&gt; : Funcionou corretamente mas deveria ter a opção para outros formatos e não apenas .rst.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RET&lt;/strong&gt; : Enter e o emacs abre o post corretamente.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;r&lt;/strong&gt; : Apenas escaneia o diretório para refazer a estrutura.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;B&lt;/strong&gt; : Não funcionou com posts .org que necessitem de uma intervenção.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;C&lt;/strong&gt; : Apenas abre o arquivo de configuração &lt;tt class=&#34;docutils literal&#34;&gt;conf.py&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;D&lt;/strong&gt; : Preciso verificar melhor se existe uma configuração para entregar direto no GitHub.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;F&lt;/strong&gt; : Filtrou corretamente as entradas quando um título tinha o termo indicado.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pretendo criar mais uma opção. Talvez um &lt;strong&gt;L&lt;/strong&gt; para testar localmente. Iria executar &lt;cite&gt;nikola build ; nikola serve -b&lt;/cite&gt; para gerar e abrir no navegador padrão do sistema. Apesar do &lt;strong&gt;w3m&lt;/strong&gt; oferecer uma boa visualização de sites, não é uma opção.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section&#34; id=&#34;conclusao&#34;&gt;
&lt;h1&gt;Conclusão&lt;/h1&gt;
&lt;p&gt;Precisa de umas alterações mas já mostrou ser uma boa opção para quem trabalha com sites estáticos e emacs. Resolvi fazer um vídeo mostrando um pouco o funcionamento do blog-admin mas, talvez, com um pouco de enfase na digitação de um documento usando o org-mode. Especificamente na digitação de trechos de código em três linguagens sendo o resultado calculado e apresentado diretamente, evitando o problema de digitar o resultado incorretamente ou ter que rodar o programa externamente, copiar o resultado e colar no documento.&lt;/p&gt;
&lt;script type=&#34;text/javascript&#34; src=&#34;https://asciinema.org/a/ehgwjtapwsytr0txgr7h6v36x.js&#34; id=&#34;asciicast-ehgwjtapwsytr0txgr7h6v36x&#34; async&gt;&lt;/script&gt;&lt;/div&gt;
&lt;div class=&#34;section&#34; id=&#34;atualizacoes&#34;&gt;
&lt;h1&gt;Atualizações&lt;/h1&gt;
&lt;ol class=&#34;arabic simple&#34;&gt;
&lt;li&gt;Adicionei a possibilidade de utilizar &lt;code&gt;nikola github_deploy&lt;/code&gt; para facilitar a entrega no GitHub.&lt;/li&gt;
&lt;li&gt;Adicionei a opção &lt;strong&gt;&amp;quot;O&amp;quot;&lt;/strong&gt; no menu para abrir o site em um navegar externo. Falta incluir a opção para o usuário escolher o navegador (está o &lt;cite&gt;firefox&lt;/cite&gt;). Necessita do &lt;a class=&#34;reference external&#34; href=&#34;https://github.com/skeeto/emacs-web-server&#34;&gt;emacs-web-server&lt;/a&gt;. Funciona como &lt;tt class=&#34;docutils literal&#34;&gt;nikola serve &lt;span class=&#34;pre&#34;&gt;-b&lt;/span&gt;&lt;/tt&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;As alterações ainda não estão no GitHub mas esta postagem já foi feita com a versão loca atualizada do blog-admin. É só pressionar &amp;quot;B&amp;quot; para recriar o site, &amp;quot;O&amp;quot; para testar no firefox se está tudo ok e um &amp;quot;D&amp;quot; para enviar para o GitHub.&lt;/p&gt;
&lt;img alt=&#34;/images/ba-git.png&#34; src=&#34;https://guaracy.github.io/images/ba-git.png&#34; /&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
  </channel>
</rss>