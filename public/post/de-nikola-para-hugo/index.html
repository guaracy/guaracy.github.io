<!DOCTYPE html>
<html lang="pt-BR">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  <meta property="og:title" content=" De nikola para Hugo &middot;  Cadafalso" />
  
  <meta name="theme-color" content="#ff0000" />
 
  <meta property="og:site_name" content="Cadafalso" />
  <meta property="og:url" content="https://guaracy.github.io/post/de-nikola-para-hugo/" />
  
  
  <meta property="og:type" content="article" />
  
  <meta property="og:article:author" content="https://facebook.com/guaracybm" />
  
  <meta property="og:article:published_time" content="2017-03-02T00:00:00Z" />
  
  <meta property="og:article:tag" content="hugo" />
  
  <meta property="og:article:tag" content="emacs" />
  
  <meta property="og:article:tag" content="nikola" />
  
  <meta property="og:article:tag" content="org-mode" />
  
  

  <title>
     De nikola para Hugo &middot;  Cadafalso
  </title>

  <link rel="stylesheet" href="https://guaracy.github.io/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://guaracy.github.io/css/main.css" />
  <link rel="stylesheet" href="https://guaracy.github.io/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://guaracy.github.io/css/github.css" />
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400" type="text/css">
  <link rel="shortcut icon" href="https://guaracy.github.io/images/favicon.ico" />
  <link rel="apple-touch-icon" href="https://guaracy.github.io/images/apple-touch-icon.png" />
  
</head>
<body>
    <header class="global-header"  style="background-image:url( /images/bg.jpg )">
    <section class="header-text">
      <h1><a href="https://guaracy.github.io/">Cadafalso</a></h1>
      
      <div class="tag-line">
        Apenas mais um blog
      </div>
      
      <div class="sns-links hidden-print">
  
  <a href="mailto:guaracy.bm@gmail.com">
    <i class="fa fa-envelope"></i>
  </a>
  
  
  <a href="https://twitter.com/guaracybm" target="_blank">
    <i class="fa fa-twitter"></i>
  </a>
  
  
  
  
  <a href="https://facebook.com/guaracybm" target="_blank">
    <i class="fa fa-facebook"></i>
  </a>
  
  
  <a href="https://github.com/guaracy" target="_blank">
    <i class="fa fa-github"></i>
  </a>
  
  
  
  
</div>

      
      <a href="https://guaracy.github.io/" class="btn-header btn-back hidden-xs">
        <i class="fa fa-angle-left" aria-hidden="true"></i>
        &nbsp;Home
      </a>
      
      
    </section>
  </header>
  <main class="container">


<article>
  <header>
    <h1 class="text-primary">De nikola para Hugo</h1>
    <div class="post-meta clearfix">
      <div class="post-date pull-left">
        Posted on
        <time datetime="2017-03-02T00:00:00Z">
          Mar 2, 2017
        </time>
      </div>
      <div class="pull-right">
        
        <span class="post-tag small"><a href="https://guaracy.github.io//tags/hugo">#hugo</a></span>
        
        <span class="post-tag small"><a href="https://guaracy.github.io//tags/emacs">#emacs</a></span>
        
        <span class="post-tag small"><a href="https://guaracy.github.io//tags/nikola">#nikola</a></span>
        
        <span class="post-tag small"><a href="https://guaracy.github.io//tags/org-mode">#org-mode</a></span>
        
      </div>
    </div>
  </header>
  <section>
    <h1 id="introdução">Introdução</h1>

<p>Um dos motivos para a utilização do nikola na primeira fase de construção deste site foi a possibilidade de trabalhar com arquivos no formato org-mode. É claro que as facilidades de instalação e <em>deploy</em> influenciaram na escolha.</p>

<p>De qualquer forma, tinham algumas coisinhas que não estavam bem integradas com o emacs. Após algums STFW, descobri que o <a href="http://gohugo.io/" title="Hugo">Hugo</a>, <a href="https://github.com/spf13/hugo/pull/3001" title="recentemente">recentemente</a>, começou a aceitar documentos no formato org-mode. A abordagem dos dois é diferente. Enquanto o nikola usa o proprio emacs para gerar o .html e depois converter, o Hugo utiliza um módulo (escrito em Go). Olhando o site do <a href="https://chaseadams.io/getting-started-with-emacs/" title="Chase">Chase</a>, que desenvolveu o parser para os arquivos .org, e descobri que é mais um novo usuário que se encantou com o <a href="http://orgmode.org/worg/org-screenshots.html" title="org-mode">org-mode</a> e o emacs.</p>

<p>O Hugo, pelo menos por enquanto, não é tão amigável como o Nikola para algumas tarefas mas, para outras, sou obrigado a tirar o chapéu. Existem diversas <a href="http://gohugo.io/tools/" title="ferramentas">ferramentas</a> que cobrem a migração de um blog antigo para o Hugo (não tem Nikola), o <em>deploy</em> do site, diversos <em>frontends</em> que dispensam um editor, <em>plugins</em> para editores (inclusive para emacs). Mas o mais legal, pelo menos eu achei, é que basta gravar as alterações em algum post, arquivo de configuração, etc., que elas são imediatamente detectadas, os procedimentos necessários são executados e o navegador é atualizado.</p>

<p>Se você estiver interessado, existe uma discussão no <a href="https://www.reddit.com/r/emacs/comments/5wibiv/hugo_v019_with_native_emacs_orgmode_content/" title="reddit">reddit</a> sobre o suporte do hugo para org-mode.</p>

<h1 id="instalação">Instalação</h1>

<p>Primeiro é necessário instalar o <a href="http://gohugo.io/" title="Hugo">Hugo</a>, é claro. Veja se a sua distribuição possui nos repositórios para a instalação ou siga os passos da página. Para utilizar o script de <em>deploy</em> que se encontra abaixo, você deverá ter instalado o <a href="https://github.com/davisp/ghp-import" title="ghp-import">ghp-import</a>. Como estava usando o Nikola, já tinha instalado. Pode ser que sua distro disponha para a instalação.</p>

<p>O primeiro passo é criar um diretorio <code>&lt;usuário&gt;github.io</code> no GitHub. Podemos ter os seguintes passos para criar um blog na pasta <code>~/myblog</code> :</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>  git clone https://github.com/guaracy.github.io.git ~/myblog
  <span style="color: #008000">cd</span> ~/myblog
  git checkout -b <span style="color: #008000">source</span>
  hugo new site myblog
  mv myblog/* .
  rm -r myblog
  git clone https://github.com/beli3ver/hemingway2.git themes/hemingway2
  <span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;theme = \&quot;hemingway2\&quot;&quot;</span> &gt;&gt; config.toml
  hugo new post/primeiro.md
</pre></div>

<p>Foi escolhido o tema <strong>hemingway2</strong> mas você pode escolher outro <a href="https://themes.gohugo.io/" title="tema">tema</a> que achar melhor (trocando o nome do tema nas instruções acima). Verifique as instruções de instalação e veja os comentários na pasta do tema para saber como configurá-lo. Agora você pode digitar o comando abaixo e</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>  hugo serve
</pre></div>

<p>abrir no seu navegado <code>localhost:1313</code> . Se tudo deu certo, você verá o seu site. Você pode abrir e verificar o arquivo <code>config.toml</code> alterado a variável <code>baseURL</code> para https://usuário.github.io, o titulo do site e grave. Altere também o post que você criou e deve estar em <code>content/post/primeiro.md</code></p>

<p>Para criar o site, apenas digite <code>hugo</code></p>

<h1 id="deploy">Deploy</h1>

<p>Criei um script que funciona da mesma forma que o Nikola. Colocará no <em>branch</em> master o conteúdo do site e no <em>branch</em> source o conteúdo de desenvolvimento. Existem outras formas, mas vamos ficar no KISS. Se o script for chamado com um parâmetro, será assumido como mensagem para o <em>commit</em>.</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>  <span style="color: #408080; font-style: italic">#!/usr/bin/bash</span>

  <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">[</span> -z <span style="color: #BA2121">&quot;</span><span style="color: #19177C">$1</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">]</span>
  <span style="color: #008000; font-weight: bold">then</span>
      <span style="color: #19177C">msg</span><span style="color: #666666">=</span><span style="color: #BA2121">&quot;Rebuild on `date`&quot;</span>
  <span style="color: #008000; font-weight: bold">else</span>
      <span style="color: #19177C">msg</span><span style="color: #666666">=</span><span style="color: #19177C">$1</span>
  <span style="color: #008000; font-weight: bold">fi</span>

  <span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;** Atualizando site&quot;</span>
  hugo

  <span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;\n\n** Enviandopara o GitHub - master&quot;</span>
  git add .
  git commit -am <span style="color: #BA2121">&quot;</span><span style="color: #19177C">$msg</span><span style="color: #BA2121">&quot;</span>
  git rev-parse <span style="color: #008000">source</span>
  ghp-import -n -m <span style="color: #BA2121">&quot;</span><span style="color: #19177C">$msg</span><span style="color: #BA2121">&quot;</span> -p -r origin -b master public

  <span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;\n\n** Enviandopara o GitHub - source&quot;</span>
  git push -u origin <span style="color: #008000">source</span>
</pre></div>

<h1 id="conclusão">Conclusão</h1>

<p>O org-mode do hugo ainda não está 100% mas funciona. Como o autor usa emacs, org-mode e hugo, é mais fácil que mantenha atualizado e faça melhorias.</p>

<p>Sobre os temas, parece que o site mostra do atualizado mais recente para o menos. Fica por sua conta e risco utilizar um thema muito antigo. Pode ser que você tenha que efetuar alguma alteração para que ele funcione corretamente em versões mais novas ou futuras do hugo.</p>

<p>Como eu tinha poucas entradas no blog feito com o nikola, foi fácil converter os cabeçalhos para se adaptar ao hugo. Se tiver muitos posts, pode ser necessário fazer um script para efetuar as alterações ou esperar que alguém desenvolva para você.]</p>

  </section>
  <footer>
        
    <section class="author-info row">
      <div class="author-avatar col-md-2">
        
      </div>
      <div class="author-meta col-md-6">
        
        <h1 class="author-name text-primary">Guaracy Monteiro</h1>
        
        
        <div class="author-bio">Apenas um programador esforçado.</div>
        
      </div>
      
      <div class="author-contact col-md-4">
        <a href="mailto:guaracy.bm@gmail.com">
          <i class="fa fa-envelope-o" aria-hidden="true"></i>
          &nbsp;Contato
        </a>
      </div>
      
    </section>
    <ul class="pager">
      
      <li class="previous"><a href="https://guaracy.github.io/post/parser-extraindo-dados-de-paginas/"><span aria-hidden="true">&larr;</span> Older</a></li>
      
      
      <li class="next disabled"><a href="#">Newer <span aria-hidden="true">&rarr;</span></a></li>
      
    </ul>
  </footer>

  
  <div><h1 class="author-name text-primary">Comentários</h1></div>
  <div id="fb-root"></div>
  <script>
    window.fbAsyncInit = function() {
    
    FB.init({
    appId      : 'guaracy',
    status     : true,
    xfbml      : true
    });

    };

    
    (function(d, s, id){
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement(s); js.id = id;
    js.src = "https://connect.facebook.net/en_US/all.js";
    fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
  </script><div class="fb-comments" data-href="https://guaracy.github.io/posts/gerenciando-blog-estatico/" data-width="470"></div>


</section></article><div id="fb-root"></div>
<script>
  
  $('.fb-comments-count').each(function(i, obj) {
  var url = obj.attributes['data-url'].value;
  
  
  obj.innerHTML = '<fb:comments-count href="' + url + '"></fb:comments-count> comments';
  });

  window.fbAsyncInit = function() {
  
  FB.init({
  appId      : 'guaracy',
  status     : true,
  xfbml      : true
  });

  };

  
  (function(d, s, id){
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "https://connect.facebook.net/en_US/all.js";
  fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>
</div>


</article>

  </main>
  <footer class="container global-footer">
    <div class="copyright-note pull-left">
      
    </div>
    <div class="sns-links hidden-print">
  
  <a href="mailto:guaracy.bm@gmail.com">
    <i class="fa fa-envelope"></i>
  </a>
  
  
  <a href="https://twitter.com/guaracybm" target="_blank">
    <i class="fa fa-twitter"></i>
  </a>
  
  
  
  
  <a href="https://facebook.com/guaracybm" target="_blank">
    <i class="fa fa-facebook"></i>
  </a>
  
  
  <a href="https://github.com/guaracy" target="_blank">
    <i class="fa fa-github"></i>
  </a>
  
  
  
  
</div>

  </footer>
  <script src="https://guaracy.github.io/js/highlight.pack.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  
  
</body>
</html>

